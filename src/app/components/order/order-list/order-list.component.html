<app-navbar></app-navbar>
<div class="container mt-5" style="font-family: Oswald, sans-serif; color: #12044F;margin-bottom: 100px;">
    <div class="row mb-4">
        <h1>Orders</h1>
    </div>

    <div class="row"></div>
    <table class="table table-striped table-bordered" id="listingTable">
        <thead class="table-danger">
            <tr>
                <th class="text-center" style="text-align: center; vertical-align: middle">First Name</th>
                <th class="text-center" style="text-align: center; vertical-align: middle">Last Name</th>
                <th class="text-center" style="text-align: center; vertical-align: middle">Price</th>
                <th class="text-center" style="text-align: center; vertical-align: middle">Actions
                </th>
            </tr>
        </thead>

        <tbody>
            <ng-template ngFor let-order [ngForOf]="getAllOrders()">
                <ng-template ngFor let-tempCustomer [ngForOf]="getAllCustomers()">
                    <ng-template ngFor let-tempUser [ngForOf]="getAllUsers()">
                        <ng-container *ngIf="order.cartId === tempCustomer.cartId">
                            <ng-container *ngIf="tempCustomer.userId === tempUser.id">
                                <tr>
                                    <td [innerHTML]="tempUser.firstName"
                                        style="text-align: center; vertical-align: middle"></td>
                                    <td [innerHTML]="tempUser.lastName"
                                        style="text-align: center; vertical-align: middle"></td>
                                    <td style="text-align: center; vertical-align: middle"><span>&euro;</span>
                                        <span [innerHTML]="order.orderPrice?.toFixed(2)">
                                        </span>
                                    </td>
                                    <td style="text-align: center; vertical-align: middle">
                                        <div class="dropdown">
                                            <button type="button" class="btn btn-success dropdown-toggle"
                                                data-toggle="dropdown">Actions</button>
                                            <div class="dropdown-menu" style="background-color: #82FF76">
                                                <a class="dropdown-item" style="color: green; background-color: #82FF76"
                                                    onmouseover="this.style='cursor: pointer;background-color: #d9d9d9;'"
                                                    onmouseout="this.style='color: green; background-color: #82FF76;'"
                                                    (click)="redirectOrderDetails(order.orderId)">Details</a>

                                                <div class="dropdown-divider"></div>
                                                <a class="dropdown-item" style="color: red; background-color: #EBC8C8"
                                                    onmouseover="this.style='cursor: pointer;background-color: #d9d9d9;'"
                                                    onmouseout="this.style='color: red; background-color: #EBC8C8'"
                                                    (click)="deleteOrder(order.orderId)">Delete
                                                </a>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </ng-container>
                        </ng-container>
                    </ng-template>
                </ng-template>
            </ng-template>
        </tbody>
    </table>
</div>